<form
   [formGroup]="formGroup"
   (submit)="handleSubmit()"
>
   <div
      *ngFor="let formField of config"
      class="field">
      <label class="label" for="{{formField.key}}">
         {{formField.label}}
      </label>
      <ng-container [ngSwitch]="formField.type">
         <select
            *ngSwitchCase="formFieldType.DROPDOWN"
            [formControlName]="formField.key">
            <option
               *ngFor="let option of formField.options"
               [value]="option.value">
               {{option.label}}
            </option>
         </select>

         <ng-container *ngSwitchCase="formFieldType.RADIO_GROUP">
            <div
               *ngFor="let option of formField.options; let i = index"
               class="radio-option">
               <input
                  type="radio"
                  [name]="formField.key"
                  [id]="option.value"
                  [value]="option.value"
                  [formControlName]="formField.key"/>

               <label [for]="option.value">{{option.label}}</label>
            </div>
         </ng-container>

         <div
            *ngSwitchCase="formFieldType.CHECKBOX"
            class="checkbox">
            <input
               type="checkbox"
               [id]="formField.key"
               [value]="formField.value"
               [checked]="formField.selected"
               [formControlName]="formField.key"/>

            <label [for]="formField.key">{{formField.label}}</label>
         </div>

         <input
            *ngSwitchCase="formFieldType.INPUT"
            class="input"
            [type]="formField.controlType"
            [placeholder]="formField.placeholder"
            [formControlName]="formField.key"/>

      </ng-container>
      <span *ngIf="formGroup.get(formField.key)?.touched && formGroup.get(formField.key)?.errors">
         {{formGroup.get(formField.key)?.errors | json}}
      </span>
   </div>
   <input
      type="submit"
      [disabled]="formGroup.invalid"/>
</form>
